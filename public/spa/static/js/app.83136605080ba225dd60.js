webpackJsonp([1],{34:function(e,n,t){"use strict";var s=t(19),r=t(80),a=t(77),o=t.n(a);s.a.use(r.a),n.a=new r.a({routes:[{path:"/",name:"Hello",component:o.a}]})},35:function(e,n,t){function s(e){t(75)}var r=t(33)(t(36),t(78),s,null,null);e.exports=r.exports},36:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=t(39);n.default={name:"app",created:function(){document.addEventListener("fbInit",function(){console.log("Facebook SDK is now available")}),document.addEventListener("googleInit",function(){console.log("Google SDK is now available")}),this.getAllUsersMethod(),this.getCurrentUserMethod()},data:function(){return{message:"",showMessage:!1,error:"",showError:!1,currentUser:{},users:[],signUp:{email:"",password:"",confirmPassword:""},signIn:{email:"",password:""},updateProfile:{email:"",about:"",password:"",confirmPassword:""}}},methods:{setMessageMethod:function(e,n){var t=this;"2"===n.status[0]&&(this.showMessage=!0,this.message=this.showMessage?e:this.message,setTimeout(function(){return t.showMessage=!1},2e3))},checkErrorMethod:function(e){var n=this;("4"===e.status[0]||"5"===e.status[0])&&(this.showError=!0,this.error=this.showError?e.message:this.error,setTimeout(function(){return n.showError=!1},2e3))},updateCurrentUserMethod:function(e){this.currentUser=e;var n=this.currentUser,t=n.email,s=void 0===t?"":t,r=n.about,a=void 0===r?"":r,o=n.password,i=void 0===o?"":o,u=n.confirmPassword,d=void 0===u?"":u;this.updateProfile={email:s,about:a,password:i,confirmPassword:d}},getAllUsersMethod:function(){var e=this;return t.i(s.a)().then(function(n){e.checkErrorMethod(n),e.users=n.users.sort(function(e,n){return new Date(n.updated_at)-new Date(e.updated_at)})}).catch(function(n){e.error=n})},getCurrentUserMethod:function(){var e=this;return t.i(s.b)().then(function(n){e.updateCurrentUserMethod(n)}).catch(function(n){e.error=n})},signInMethod:function(){var e=this,n=this.signIn,r=n.email,a=n.password;return t.i(s.c)(r,a).then(function(n){e.checkErrorMethod(n),e.updateCurrentUserMethod(n),e.setMessageMethod("sign in successfully!",n)}).catch(function(n){e.error=n})},signOutMethod:function(){var e=this;return t.i(s.d)().then(function(n){e.checkErrorMethod(n),e.updateCurrentUserMethod({}),e.setMessageMethod("sign out successfully!",n)}).catch(function(n){e.error=n})},signUpMethod:function(){var e=this,n=this.signUp,r=n.email,a=n.password,o=n.confirmPassword;return t.i(s.e)(r,a,o).then(function(n){e.checkErrorMethod(n),e.updateCurrentUserMethod(n),e.setMessageMethod("sign up successfully!",n)}).catch(function(n){e.error=n}).then(this.getAllUsersMethod)},updateProfileMethod:function(){var e=this,n=this.updateProfile,r=n.email,a=n.about;return t.i(s.f)({email:r,about:a}).then(function(n){e.checkErrorMethod(n),e.updateCurrentUserMethod(n),e.setMessageMethod("update profile successfully!",n)}).catch(function(n){e.error=n}).then(this.getAllUsersMethod)},updatePasswordMethod:function(){var e=this,n=this.updateProfile,r=n.password,a=n.confirmPassword;return r.trim()!==a.trim()?void(this.error="passwords not match!"):t.i(s.f)({password:r}).then(function(n){e.checkErrorMethod(n),e.updateCurrentUserMethod("200"===n.status?n:e.currentUser),e.setMessageMethod("update password successfully!",n)}).catch(function(n){e.error=n})},signInWithGoogleMethod:function(){var e=this;gapi.auth2.getAuthInstance().signIn().then(function(n){var r=n.getAuthResponse(),a=r.id_token;t.i(s.g)(a).then(function(n){e.checkErrorMethod(n),e.updateCurrentUserMethod(n),e.setMessageMethod("sign in successfully!",n)}).catch(function(n){e.error=n}).then(e.getAllUsersMethod)})},signInWithFacebookMethod:function(){var e=this;FB.login(function(n){var r=n.authResponse,a=r.userID,o=r.accessToken;t.i(s.h)(a,o).then(function(n){e.checkErrorMethod(n),e.updateCurrentUserMethod(n),e.setMessageMethod("sign in successfully!",n)}).catch(function(n){e.error=n}).then(e.getAllUsersMethod)})}}}},37:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=t(20),r=t.n(s),a=function(e,n){var t=new XMLHttpRequest;return t.responseType="json",t.open("POST","/graphql"),t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("Accept","application/json"),t.onload=function(){console.log("data returned:",t.response)},t.send(r()({query:e,variables:n})),t};n.default={name:"hello",data:function(){return{msg:"Welcome to Your Vue.js App"}},methods:{getUsers:function(e){a("\n        {\n          getUsers{\n            id\n            email\n            message\n            token\n          }\n        }\n      ")},signIn:function(e){a("\n        mutation blah($email: String!, $password: String!){\n          signIn(email: $email, password: $password){\n            id\n            email\n            message\n            token\n          }\n        }\n      ",{email:"foobar@test.com",password:"1234"})},setMessage:function(e){a("\n        mutation weee($message: String!){\n          setMessage(message: $message){\n            id\n            email\n            message\n            token\n          }\n        }\n      ",{message:e})}}}},38:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=t(19),r=t(35),a=t.n(r),o=t(34);s.a.config.productionTip=!1,new s.a({el:"#app",router:o.a,template:"<App/>",components:{App:a.a}})},39:function(e,n,t){"use strict";t.d(n,"b",function(){return d}),t.d(n,"a",function(){return c}),t.d(n,"c",function(){return l}),t.d(n,"h",function(){return p}),t.d(n,"g",function(){return g}),t.d(n,"e",function(){return v}),t.d(n,"f",function(){return m}),t.d(n,"d",function(){return f});var s=t(40),r=t.n(s),a=t(20),o=t.n(a),i={graphql:"/graphql"},u=function(e){var n=e.query,t=e.variables,s=void 0===t?"":t,a=e.queryName,u=new Headers;u.append("Content-Type","application/json"),u.append("Accept","application/json");var d={method:"POST",headers:u,credentials:"include",body:o()({query:n,variables:s})};return fetch(i.graphql,d).then(function(e){return e.json()}).then(function(e){return e.errors?r.a.reject(e):a?e.data[a]:e.data})},d=function(){return u({query:"\n    {\n      getCurrentUser {\n        ...UserType\n      }\n    }\n    \n  fragment UserType on User {\n    id\n    email\n    token\n    about\n    facebook_id\n    google_id\n    created_at\n    updated_at\n    message\n    status\n  }\n\n  ",queryName:"getCurrentUser"})},c=function(){return u({query:"\n    {\n      getAllUsers {\n        ...UserListType\n      }\n    }\n    \n  fragment UserListType on UserList {\n    users {\n      id\n      email\n      token\n      about\n      facebook_id\n      google_id\n      created_at\n      updated_at\n    },\n    message,\n    status\n  }\n\n  ",queryName:"getAllUsers"})},l=function(e,n){var t='\n    {\n      "email": "'+e+'",\n      "password": "'+n+'"\n    }\n  ';return u({query:"\n    mutation signIn($email: String!, $password: String!){\n      signIn(email: $email, password: $password){\n        ...UserType\n      }\n    }\n    \n  fragment UserType on User {\n    id\n    email\n    token\n    about\n    facebook_id\n    google_id\n    created_at\n    updated_at\n    message\n    status\n  }\n\n  ",variables:t,queryName:"signIn"})},p=function(e,n){var t='\n    {\n      "userId": "'+e+'",\n      "accessToken": "'+n+'"\n    }\n  ';return u({query:"\n    mutation signInWithFacebook($userId: String!, $accessToken: String!){\n      signInWithFacebook (userId: $userId, accessToken: $accessToken){\n        ...UserType\n      }\n    }\n    \n  fragment UserType on User {\n    id\n    email\n    token\n    about\n    facebook_id\n    google_id\n    created_at\n    updated_at\n    message\n    status\n  }\n\n  ",variables:t,queryName:"signInWithFacebook"})},g=function(e){var n='\n    {\n      "token": "'+e+'"\n    }\n  ';return u({query:"\n    mutation signInWithGoogle($token: String!){\n      signInWithGoogle (token: $token){\n        ...UserType\n      }\n    }\n    \n  fragment UserType on User {\n    id\n    email\n    token\n    about\n    facebook_id\n    google_id\n    created_at\n    updated_at\n    message\n    status\n  }\n\n  ",variables:n,queryName:"signInWithGoogle"})},v=function(e,n,t){var s='\n    {\n      "email": "'+e+'",\n      "password": "'+n+'",\n      "confirmPassword": "'+t+'"\n    }\n  ';return u({query:"\n    mutation signUp($email: String!, $password: String!, $confirmPassword: String!){\n      signUp (email: $email, password: $password, confirmPassword: $confirmPassword){\n        ...UserType\n      }\n    }\n    \n  fragment UserType on User {\n    id\n    email\n    token\n    about\n    facebook_id\n    google_id\n    created_at\n    updated_at\n    message\n    status\n  }\n\n  ",variables:s,queryName:"signUp"})},m=function(e){var n='\n    {\n      "data": '+o()(e)+"\n    }\n  ";return u({query:"\n    mutation updateUser($data: UserInput!){\n      updateUser (data: $data){\n        ...UserType\n      }\n    }\n    \n  fragment UserType on User {\n    id\n    email\n    token\n    about\n    facebook_id\n    google_id\n    created_at\n    updated_at\n    message\n    status\n  }\n\n  ",variables:n,queryName:"updateUser"})},f=function(){return u({query:"\n    mutation signOut{\n      signOut {\n        ...ResponseType\n      }\n    }\n    \n  fragment ResponseType on Response {\n    message\n    status\n  }\n\n  ",queryName:"signOut"})}},75:function(e,n){},76:function(e,n){},77:function(e,n,t){function s(e){t(76)}var r=t(33)(t(37),t(79),s,"data-v-87b09e2c",null);e.exports=r.exports},78:function(e,n){e.exports={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("transition",{attrs:{name:"fade"}},[e.showError?t("h1",{staticClass:"error"},[e._v(e._s(e.error))]):e._e()]),e._v(" "),t("transition",{attrs:{name:"fade"}},[e.showMessage?t("h1",{staticClass:"message"},[e._v(e._s(e.message))]):e._e()]),e._v(" "),t("h1",[e._v("Hello "+e._s(e.currentUser.email||"Guest"))]),e._v(" "),e.currentUser.email?e._e():t("div",[t("div",[t("h2",[e._v("Sign Up")]),e._v(" "),t("div",[t("label",{attrs:{for:"sign-up-email"}},[e._v("email")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.signUp.email,expression:"signUp.email"}],attrs:{type:"text",name:"sign-up-email"},domProps:{value:e.signUp.email},on:{input:function(n){n.target.composing||(e.signUp.email=n.target.value)}}})]),e._v(" "),t("div",[t("label",{attrs:{for:"sign-up-password"}},[e._v("password")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.signUp.password,expression:"signUp.password"}],attrs:{type:"password",name:"sign-up-password"},domProps:{value:e.signUp.password},on:{input:function(n){n.target.composing||(e.signUp.password=n.target.value)}}})]),e._v(" "),t("div",[t("label",{attrs:{for:"sign-up-confirm-password"}},[e._v("confirm password")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.signUp.confirmPassword,expression:"signUp.confirmPassword"}],attrs:{type:"password",name:"sign-up-confirm-password"},domProps:{value:e.signUp.confirmPassword},on:{input:function(n){n.target.composing||(e.signUp.confirmPassword=n.target.value)}}})]),e._v(" "),t("button",{on:{click:e.signUpMethod}},[e._v("sign up")])]),e._v(" "),t("div",[t("h2",[e._v("Sign In")]),e._v(" "),t("div",[t("label",{attrs:{for:"sign-in-email"}},[e._v("email")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.signIn.email,expression:"signIn.email"}],attrs:{type:"text",name:"sign-in-email"},domProps:{value:e.signIn.email},on:{input:function(n){n.target.composing||(e.signIn.email=n.target.value)}}})]),e._v(" "),t("div",[t("label",{attrs:{for:"sign-in-password"}},[e._v("password")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.signIn.password,expression:"signIn.password"}],attrs:{type:"password",name:"sign-in-password"},domProps:{value:e.signIn.password},on:{input:function(n){n.target.composing||(e.signIn.password=n.target.value)}}})]),e._v(" "),t("div",[t("button",{on:{click:e.signInMethod}},[e._v("sign in")])]),e._v(" "),t("div",[t("button",{on:{click:e.signInWithFacebookMethod}},[e._v("sign in with facebook")])]),e._v(" "),t("div",[t("button",{on:{click:e.signInWithGoogleMethod}},[e._v("sign in with google")])])])]),e._v(" "),e.currentUser.email?t("div",[t("div",[t("h2",[e._v("Update Profile")]),e._v(" "),t("div",[t("label",{attrs:{for:"update-email"}},[e._v("email")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.updateProfile.email,expression:"updateProfile.email"}],attrs:{type:"text",name:"update-email"},domProps:{value:e.updateProfile.email},on:{input:function(n){n.target.composing||(e.updateProfile.email=n.target.value)}}})]),e._v(" "),t("div",[t("label",{attrs:{for:"update-about"}},[e._v("about")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.updateProfile.about,expression:"updateProfile.about"}],attrs:{name:"update-about",rows:"8",cols:"80"},domProps:{value:e.updateProfile.about},on:{input:function(n){n.target.composing||(e.updateProfile.about=n.target.value)}}})]),e._v(" "),t("button",{on:{click:e.updateProfileMethod}},[e._v("update profile")])]),e._v(" "),t("div",[t("h2",[e._v("Update Password")]),e._v(" "),t("div",[t("label",{attrs:{for:"update-password"}},[e._v("password")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.updateProfile.password,expression:"updateProfile.password"}],attrs:{type:"password",name:"update-password"},domProps:{value:e.updateProfile.password},on:{input:function(n){n.target.composing||(e.updateProfile.password=n.target.value)}}})]),e._v(" "),t("div",[t("label",{attrs:{for:"update-confirm-password"}},[e._v("confirm password")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.updateProfile.confirmPassword,expression:"updateProfile.confirmPassword"}],attrs:{type:"password",name:"update-confirm-password"},domProps:{value:e.updateProfile.confirmPassword},on:{input:function(n){n.target.composing||(e.updateProfile.confirmPassword=n.target.value)}}})]),e._v(" "),t("button",{on:{click:e.updatePasswordMethod}},[e._v("update password")])]),e._v(" "),t("div",[t("h2",[e._v("Sign Out")]),e._v(" "),t("button",{on:{click:e.signOutMethod}},[e._v("sign out")])])]):e._e(),e._v(" "),e._l(e.users,function(n){return t("div",{staticClass:"user"},[t("br"),e._v(" "),t("h2",[e._v(e._s(n.email))]),e._v(" "),t("h6",[e._v("created at: "+e._s(n.created_at))]),e._v(" "),t("h6",[e._v("updated at: "+e._s(n.updated_at))]),e._v(" "),t("q",[e._v(e._s(n.about))])])})],2)},staticRenderFns:[]}},79:function(e,n){e.exports={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"hello"},[t("h1",[e._v(e._s(e.msg))]),e._v(" "),t("h2",[e._v("Essential Links")]),e._v(" "),e._m(0),e._v(" "),t("h2",[e._v("Ecosystem")]),e._v(" "),e._m(1),e._v(" "),t("button",{on:{click:e.getUsers}},[e._v("get users")]),e._v(" "),t("button",{on:{click:e.signIn}},[e._v("sign in as foobar@test.com")]),e._v(" "),t("button",{on:{click:function(n){e.setMessage("foobar lalala")}}},[e._v("setMessage to 'foobar lalala'")])])},staticRenderFns:[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ul",[t("li",[t("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("Core Docs")])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[e._v("Forum")])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://gitter.im/vuejs/vue",target:"_blank"}},[e._v("Gitter Chat")])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[e._v("Twitter")])]),e._v(" "),t("br"),e._v(" "),t("li",[t("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[e._v("Docs for This Template")])])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ul",[t("li",[t("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[e._v("vue-router")])]),e._v(" "),t("li",[t("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[e._v("vuex")])]),e._v(" "),t("li",[t("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[e._v("vue-loader")])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[e._v("awesome-vue")])])])}]}}},[38]);
//# sourceMappingURL=app.83136605080ba225dd60.js.map